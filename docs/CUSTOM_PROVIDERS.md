# 自定义供应商管理功能

AI Tabs 扩展现在支持添加和管理自定义AI供应商，让您可以连接到任何兼容OpenAI API格式的AI服务。

## 功能特性

### 🔧 供应商管理
- **添加自定义供应商**：支持添加任何兼容OpenAI API的服务
- **编辑供应商配置**：修改现有供应商的设置
- **删除供应商**：移除不需要的自定义供应商
- **内置供应商保护**：内置供应商无法被删除，确保系统稳定性

### 📋 配置选项
- **供应商名称**：显示在选择器中的友好名称
- **供应商标识**：唯一标识符（仅支持字母、数字、下划线、连字符）
- **API基础URL**：服务的API端点地址
- **聊天端点**：聊天API的路径（默认：`/chat/completions`）
- **默认模型**：预设的模型列表（可选）

### 🎨 用户界面
- **现代化设计**：美观的模态框界面
- **多语言支持**：中文和英文界面
- **实时验证**：输入验证和错误提示
- **响应式布局**：适配不同屏幕尺寸

## 使用方法

### 打开管理界面
1. 进入扩展的选项页面
2. 找到"自定义供应商管理"部分
3. 点击"管理供应商"按钮

### 添加新供应商
1. 在管理界面中点击"添加供应商"按钮
2. 填写必要信息：
   - **供应商名称**：例如"我的AI服务"
   - **供应商标识**：例如"my_ai_service"（必须唯一）
   - **API基础URL**：例如"https://api.example.com/v1"
   - **聊天端点**：通常保持默认值"/chat/completions"
   - **默认模型**：每行一个模型名称（可选）
3. 点击"保存供应商"

### 编辑供应商
1. 在供应商列表中找到要编辑的供应商
2. 点击编辑图标（铅笔图标）
3. 修改相关信息
4. 点击"保存供应商"

### 删除供应商
1. 在供应商列表中找到要删除的供应商
2. 点击删除图标（垃圾桶图标）
3. 确认删除操作

## 技术实现

### 数据存储
- 自定义供应商配置存储在 `chrome.storage.local`
- 与内置供应商配置分离，确保数据安全
- 支持配置的导入和导出

### API兼容性
- 支持标准OpenAI API格式
- 自动解析不同的模型列表响应格式
- 灵活的端点配置支持

### 安全性
- 输入验证防止恶意配置
- 供应商标识唯一性检查
- 安全的配置存储和传输

## 示例配置

### OpenAI兼容服务
```
供应商名称: LocalAI
供应商标识: localai
API基础URL: http://localhost:8080/v1
聊天端点: /chat/completions
默认模型:
gpt-3.5-turbo
gpt-4
```

### 自定义AI服务
```
供应商名称: 企业AI服务
供应商标识: enterprise_ai
API基础URL: https://ai.company.com/api/v1
聊天端点: /chat/completions
默认模型:
company-model-v1
company-model-v2
company-model-pro
```

## 注意事项

1. **唯一标识**：供应商标识必须唯一，不能与现有供应商重复
2. **URL格式**：API基础URL必须是有效的HTTP/HTTPS地址
3. **模型列表**：如果不提供默认模型，系统会尝试从API自动获取
4. **网络访问**：确保扩展能够访问指定的API地址
5. **API兼容性**：服务必须兼容OpenAI API格式

## 故障排除

### 常见问题
1. **供应商标识已存在**：选择一个不同的标识符
2. **API连接失败**：检查URL是否正确，网络是否可达
3. **模型加载失败**：验证API密钥和端点配置
4. **配置丢失**：检查浏览器存储权限

### 调试方法
1. 打开浏览器开发者工具
2. 查看控制台日志获取详细错误信息
3. 验证API端点是否返回正确的响应格式
4. 测试API密钥的有效性

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的供应商管理功能
- 现代化用户界面
- 多语言支持
- 安全的配置存储 